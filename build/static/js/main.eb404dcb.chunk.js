(this["webpackJsonpreact-table-app"]=this["webpackJsonpreact-table-app"]||[]).push([[0],{45:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c.n(a),n=c(34),s=c.n(n),j=c(31),i=c(14),b=(c(45),c(37)),l=c(49),u=c(32),d=c(20),o=Object(l.a)({apiKey:"AIzaSyBhiHbrO2qUvGDmGN3iX5u-SlpRK_EPlzU",authDomain:"table-app-e64c3.firebaseapp.com",databaseURL:"https://table-app-e64c3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"table-app-e64c3",storageBucket:"table-app-e64c3.appspot.com",messagingSenderId:"102169979497",appId:"1:102169979497:web:c8dc8170bd6ce50f4850f8",measurementId:"G-6RC7ZQ1177"}),O=Object(u.b)(o),p=Object(d.a)(o),h=c(75),x=c(7),m=Object(a.createContext)();function f(){return Object(a.useContext)(m)}function v(e){var t=e.children,c=Object(a.useState)(),r=Object(i.a)(c,2),n=r[0],s=r[1],j=Object(a.useState)(!0),b=Object(i.a)(j,2),l=b[0],d=b[1];Object(a.useEffect)((function(){return O.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var o={currentUser:n,signup:function(e,t){return Object(u.a)(O,e,t)},login:function(e,t){return Object(u.c)(O,e,t)},logout:function(){Object(u.d)(O)}};return Object(x.jsx)(m.Provider,{value:o,children:!l&&t})}var g=c(28),y=c(16),N=c(0),w=c.n(N),S=c(3),C=c(78),q=c(76),k=c(77),E=c(74);function L(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=f().login,r=Object(a.useState)(""),n=Object(i.a)(r,2),s=n[0],j=n[1],b=Object(a.useState)(!1),l=Object(i.a)(b,2),u=l[0],d=l[1],o=Object(y.g)();function O(){return(O=Object(S.a)(w.a.mark((function a(r){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,j(""),d(!0),a.next=6,c(e.current.value,t.current.value);case 6:o.push("/dashboard"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),j("Failed to log in");case 12:d(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(C.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(x.jsx)(q.a,{variant:"danger",children:s}),Object(x.jsxs)(k.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(x.jsxs)(k.a.Group,{id:"email",children:[Object(x.jsx)(k.a.Label,{children:"Email"}),Object(x.jsx)(k.a.Control,{type:"email",ref:e,required:!0})]}),Object(x.jsxs)(k.a.Group,{id:"password",children:[Object(x.jsx)(k.a.Label,{children:"Password"}),Object(x.jsx)(k.a.Control,{type:"password",ref:t,required:!0})]}),Object(x.jsx)(E.a,{disabled:u,className:"w-100 mt-3",type:"submit",children:"Log In"})]})]})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(x.jsx)(g.b,{to:"/signup",children:"Sign Up"})]})]})}function U(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),r=f().signup,n=Object(a.useState)(""),s=Object(i.a)(n,2),j=s[0],b=s[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),d=u[0],o=u[1],O=Object(y.g)();function p(){return(p=Object(S.a)(w.a.mark((function a(n){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),t.current.value===c.current.value){a.next=3;break}return a.abrupt("return",b("Passwords do not match"));case 3:return a.prev=3,b(""),o(!0),a.next=8,r(e.current.value,t.current.value);case 8:O.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),b("Failed to create an account");case 14:o(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(C.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(x.jsx)(q.a,{variant:"danger",children:j}),Object(x.jsxs)(k.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(x.jsxs)(k.a.Group,{id:"email",children:[Object(x.jsx)(k.a.Label,{children:"Email"}),Object(x.jsx)(k.a.Control,{type:"email",ref:e,required:!0})]}),Object(x.jsxs)(k.a.Group,{id:"password",children:[Object(x.jsx)(k.a.Label,{children:"Password"}),Object(x.jsx)(k.a.Control,{type:"password",ref:t,required:!0})]}),Object(x.jsxs)(k.a.Group,{id:"password-confirm",children:[Object(x.jsx)(k.a.Label,{children:"Password Confirmation"}),Object(x.jsx)(k.a.Control,{type:"password",ref:c,required:!0})]}),Object(x.jsx)(E.a,{disabled:d,className:"w-100 mt-3",type:"submit",children:"Sign Up"})]})]})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(x.jsx)(g.b,{to:"/",children:"Log In"})]})]})}var I=function(){var e=f(),t=e.currentUser,c=e.logout,r=Object(a.useState)(""),n=Object(i.a)(r,2),s=(n[0],n[1]),l=Object(y.g)(),u=Object(d.d)(p,"Lists/".concat(t.uid)),o=Object(a.useState)([]),O=Object(i.a)(o,2),h=O[0],m=O[1],v=Object(a.useState)({fullName:"",address:"",phoneNumber:"",email:""}),N=Object(i.a)(v,2),q=N[0],k=N[1];Object(a.useEffect)((function(){Object(d.b)(u,(function(e){var t=e.val();try{var c=Object.values(t);m(c)}catch(a){console.log("Database is empty")}}))}),[]);var L=function(e){e.preventDefault();var t=e.target.getAttribute("name"),c=e.target.value,a=Object(j.a)({},q);a[t]=c,k(a)};function U(){return(U=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,c();case 4:l.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C.a,{children:Object(x.jsxs)(C.a.Body,{className:"text-center mt-2",children:[Object(x.jsxs)("h6",{children:["Email: ",t.email]}),Object(x.jsx)(g.b,{to:"/update",children:"Update"}),Object(x.jsx)("div",{children:Object(x.jsx)(E.a,{variant:"link",onClick:function(){return U.apply(this,arguments)},children:"Log Out"})})]})}),Object(x.jsxs)("div",{className:"table-container",children:[Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"Phone Number"}),Object(x.jsx)("th",{children:"Email"})]})}),Object(x.jsx)("tbody",{children:h.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.fullName}),Object(x.jsx)("td",{children:e.address}),Object(x.jsx)("td",{children:e.phoneNumber}),Object(x.jsx)("td",{children:e.email})]},e.id)}))})]}),Object(x.jsx)("h2",{children:"Add a Contact"}),Object(x.jsxs)("form",{className:"form-container",children:[Object(x.jsx)("input",{type:"text",name:"fullName",required:"required",placeholder:"Enter a name...",onChange:L}),Object(x.jsx)("input",{type:"text",name:"address",required:"required",placeholder:"Enter an address...",onChange:L}),Object(x.jsx)("input",{type:"text",name:"phoneNumber",required:"required",placeholder:"Enter a phone number...",onChange:L}),Object(x.jsx)("input",{type:"email",name:"email",required:"required",placeholder:"Enter an email...",onChange:L}),Object(x.jsx)("button",{type:"reset",onClick:function(e){e.preventDefault();var t={id:Object(b.a)(),fullName:q.fullName,address:q.address,phoneNumber:q.phoneNumber,email:q.email},c=Object(d.c)(u);Object(d.e)(c,t),Object(d.b)(u,(function(e){var t=e.val(),c=Object.values(t);m(c)}))},children:"Add"})]})]})]})},D=c(54),G=["component"];function R(e){var t=e.component,c=Object(D.a)(e,G),a=f().currentUser;return Object(x.jsx)(y.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return a?Object(x.jsx)(t,Object(j.a)({},e)):Object(x.jsx)(y.a,{to:"/"})}}))}var A=function(){var e=Object(d.d)(p,"Lists"),t=Object(a.useState)([]),c=Object(i.a)(t,2),r=(c[0],c[1]),n=Object(a.useState)({fullName:"",address:"",phoneNumber:"",email:""}),s=Object(i.a)(n,2);s[0],s[1];Object(a.useEffect)((function(){Object(d.b)(e,(function(e){var t=e.val();try{var c=Object.values(t);r(c)}catch(a){console.log("Database is empty")}}))}),[]);return Object(x.jsx)(v,{children:Object(x.jsx)(h.a,{className:"signup-container",children:Object(x.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(x.jsx)(g.a,{children:Object(x.jsx)(v,{children:Object(x.jsxs)(y.d,{children:[Object(x.jsx)(R,{path:"/dashboard",component:I}),Object(x.jsx)(y.b,{path:"/signup",component:U}),Object(x.jsx)(y.b,{exact:!0,path:"/",component:L})]})})})})})})};c(71);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.eb404dcb.chunk.js.map