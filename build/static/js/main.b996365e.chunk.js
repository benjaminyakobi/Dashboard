(this["webpackJsonpreact-table-app"]=this["webpackJsonpreact-table-app"]||[]).push([[0],{78:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(37),i=n.n(c),s=n(11),l=n(50),o=n(31),d=n(25),j=Object(l.a)({apiKey:"AIzaSyBhiHbrO2qUvGDmGN3iX5u-SlpRK_EPlzU",authDomain:"table-app-e64c3.firebaseapp.com",databaseURL:"https://table-app-e64c3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"table-app-e64c3",storageBucket:"table-app-e64c3.appspot.com",messagingSenderId:"102169979497",appId:"1:102169979497:web:c8dc8170bd6ce50f4850f8",measurementId:"G-6RC7ZQ1177"}),b=Object(o.b)(j),u=Object(d.b)(j),h=n(4),O=Object(r.createContext)();function p(){return Object(r.useContext)(O)}function m(e){var t=e.children,n=Object(r.useState)(),a=Object(s.a)(n,2),c=a[0],i=a[1],l=Object(r.useState)(!0),d=Object(s.a)(l,2),j=d[0],u=d[1];Object(r.useEffect)((function(){return b.onAuthStateChanged((function(e){i(e),u(!1)}))}),[]);var p={currentUser:c,signup:function(e,t){return Object(o.a)(b,e,t)},login:function(e,t){return Object(o.d)(b,e,t)},logout:function(){Object(o.e)(b)},resetPassword:function(e){return Object(o.c)(b,e)},updatedEmail:function(e){return Object(o.f)(c,e)},updatedPassword:function(e){return Object(o.g)(c,e)}};return Object(h.jsx)(O.Provider,{value:p,children:!j&&t})}var f,x,g,v,w,y,k,C,z,E,S=n(17),N=n(14),q=n(0),P=n.n(q),R=n(3),D=n(28),U=n(29),B=Object(U.b)(f||(f=Object(D.a)(["\n    {\n        0% {\n            background-position: 0% 50%;\n        }\n        50% {\n            background-position: 100% 50%;\n        }\n        100% {\n            background-position: 0% 50%;\n        }\n    }\n"]))),F=U.a.div(x||(x=Object(D.a)(["\n\tbackground: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n\tbackground-size: 400% 400%;\n\tanimation: "," 15s ease infinite;\n    min-width: 100vw; /* VW: Viewport Width */\n    min-height: 100vh; /* VH: Viewport Height */\n    width: 100%;\n    height: 100%;\n    position: relative; /* Important for centeralize vertically & horizontally */\n"])),B),I=U.a.div(g||(g=Object(D.a)(["\n    position: absolute; /*Centerelize 1 (with position: relative; in the outer container)*/\n    top: 50%; /*Centerelize 2 (with position: relative; in the outer container)*/\n    left: 50%; /*Centerelize 3 (with position: relative; in the outer container)*/\n    transform: translate(-50%, -50%); /*Centerelize 4 (with position: relative; in the outer container)*/\n    width: 300px; \n    height: flex; \n    background: linear-gradient(45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n\tbackground-size: 200% 200%;\n\tanimation: "," 15s ease infinite;\n"])),B),A=U.a.div(v||(v=Object(D.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),L=U.a.button(w||(w=Object(D.a)(["\n    border-radius: 3px;\n    border: 2px solid #fff;\n    color: #fff;\n    margin: 5px;\n    padding: 5px;    \n    width: 200px;\n    height: 50px;\n    background: linear-gradient(to right, #ccc, #ccc);\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    transition: background-size 0.5s 0s;\n\n    &:hover{\n      background-size: 100% 100%;\n    } \n"]))),T=U.a.h1(y||(y=Object(D.a)(["\n    margin-top: 2rem;\n    color: black;\n    font-family: 'Raleway',sans-serif;\n    font-size: 1.5rem;\n    font-weight: 800;\n    line-height: 72px;\n    text-align: center;\n    text-transform: uppercase;\n"]))),V=U.a.h2(k||(k=Object(D.a)(["\n    margin-top: 2rem;\n    color: black;\n    font-family: 'Raleway',sans-serif;\n    font-size: 1.2rem;\n    font-weight: 800;\n    line-height: 72px;\n    text-align: center;\n    text-transform: uppercase;\n"]))),G=U.a.input(C||(C=Object(D.a)(["\n    padding: 5px;\n    margin: 5px;\n    width: 200px;\n    height: 50px;\n    background: transparent;\n    border-color: #fff;\n    background: linear-gradient(to right, #ccc, #ccc);\n    background-repeat: no-repeat;\n    background-size: 0% 100%;\n    transition: background-size 0.5s 0s;\n    color: black;\n    font-family: 'Raleway',sans-serif;\n    font-size: 1rem;\n    font-weight: bold;\n    ::placeholder {color: #fff;}\n\n    &:focus{\n        outline: none;\n        background-size: 100% 100%;\n    }\n"]))),H=(U.a.div(z||(z=Object(D.a)(["\n\n"]))),U.a.div(E||(E=Object(D.a)(["\n\n"]))),n(83));function J(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=p().login,a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(r.useState)(!1),d=Object(s.a)(o,2),j=d[0],b=d[1],u=Object(N.g)();function O(){return(O=Object(R.a)(P.a.mark((function r(a){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),l(""),b(!0),r.next=5,n(e.current.value,t.current.value).then((function(){b(!1),u.push("/dashboard")})).catch((function(e){l("Failed to log in"),b(!1),console.log(e)}));case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(h.jsxs)(I,{children:[Object(h.jsx)(A,{children:Object(h.jsx)(T,{children:"Log In"})}),i&&Object(h.jsx)(H.a,{variant:"danger",children:i}),Object(h.jsx)(A,{children:Object(h.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(h.jsx)("fieldset",{id:"email",children:Object(h.jsx)(G,{type:"email",placeholder:"Enter Email",ref:e,required:!0})}),Object(h.jsx)("fieldset",{id:"password",children:Object(h.jsx)(G,{type:"password",placeholder:"Enter Password",ref:t,required:!0})}),Object(h.jsx)(L,{disabled:j,type:"submit",children:"Log In"})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/forgot-password",style:{color:"white"},children:"Forgot Password?"})}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/signup",style:{color:"white",marginBottom:"2rem"},children:"Sign Up"})})]})}function K(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),a=p().signup,c=Object(r.useState)(""),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Object(r.useState)(!1),j=Object(s.a)(d,2),b=j[0],u=j[1],O=Object(N.g)();function m(){return(m=Object(R.a)(P.a.mark((function r(c){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){r.next=3;break}return r.abrupt("return",o("Passwords do not match"));case 3:return r.prev=3,o(""),u(!0),r.next=8,a(e.current.value,t.current.value);case 8:u(!1),O.push("/"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),o("Failed to create an account");case 15:case"end":return r.stop()}}),r,null,[[3,12]])})))).apply(this,arguments)}return Object(h.jsxs)(I,{children:[Object(h.jsx)(A,{children:Object(h.jsx)(T,{children:"Sign Up"})}),l&&Object(h.jsx)(H.a,{variant:"danger",children:l}),Object(h.jsx)(A,{children:Object(h.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(h.jsx)("fieldset",{id:"email",children:Object(h.jsx)(G,{type:"email",placeholder:"Enter Email",ref:e,required:!0})}),Object(h.jsx)("fieldset",{id:"password",children:Object(h.jsx)(G,{type:"password",placeholder:"Enter Password",ref:t,required:!0})}),Object(h.jsx)("fieldset",{id:"password-confirm",children:Object(h.jsx)(G,{type:"password",placeholder:"Confirm Password",ref:n,required:!0})}),Object(h.jsx)(L,{disabled:b,type:"submit",children:"Sign Up"})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/",style:{color:"white",marginBottom:"2rem"},children:"Back To Login"})})]})}var W=n(34),M=n(57),Q=n(80);var X=function(e){var t=e.contact,n=e.handleEditClick,r=e.handleDeleteClick;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.fullName}),Object(h.jsx)("td",{children:t.address}),Object(h.jsx)("td",{children:t.phoneNumber}),Object(h.jsx)("td",{children:t.email}),Object(h.jsxs)("td",{style:{width:"10px"},children:[Object(h.jsx)(Q.a,{type:"button",size:"sm",variant:"success",onClick:function(e){return n(e,t)},children:"Edit"})," "]}),Object(h.jsx)("td",{style:{width:"10px",paddingRight:"10px"},children:Object(h.jsx)(Q.a,{type:"button",size:"sm",variant:"danger",onClick:function(){return r(t.id)},children:"Delete"})})]})},Z=n(81),_=n(84),Y=function(e){var t=e.addFormData,n=e.handleEditFormChange,r=e.handleCancelClick;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{type:"text",name:"fullName",required:"required",placeholder:"Enter a name...",value:t.fullName,onChange:n})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{type:"text",name:"address",required:"required",placeholder:"Enter an address...",value:t.address,onChange:n})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{type:"text",name:"phoneNumber",required:"required",placeholder:"Enter a phone number...",value:t.phoneNumber,onChange:n})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{type:"email",name:"email",required:"required",placeholder:"Enter an email...",value:t.email,onChange:n})})}),Object(h.jsxs)("td",{style:{width:"10px"},children:[Object(h.jsx)(Q.a,{type:"submit",size:"sm",variant:"success",children:"Save"})," "," "]}),Object(h.jsx)("td",{style:{width:"10px",paddingRight:"10px"},children:Object(h.jsx)(Q.a,{type:"button",size:"sm",variant:"danger",onClick:r,children:"Cancel"})})]})},$=n(82),ee=function(){var e=p(),t=e.currentUser,n=e.logout,a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(N.g)(),j=Object(d.e)(u,"Lists/".concat(t.uid)),b=Object(r.useState)([]),O=Object(s.a)(b,2),m=O[0],f=O[1],x=Object(r.useState)(null),g=Object(s.a)(x,2),v=g[0],w=g[1],y=Object(r.useState)({fullName:"",address:"",phoneNumber:"",email:""}),k=Object(s.a)(y,2),C=k[0],z=k[1];function E(){return(E=Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(""),e.prev=1,e.next=4,n();case 4:o.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l("Failed to log out"),console.log(i);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}Object(r.useEffect)((function(){Object(d.c)(j,(function(e){var t=e.val();try{l("");var n=Object.values(t);f(n)}catch(r){l("Database is empty"),console.log(i)}}))}),[]);var q=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,r=Object(W.a)({},C);r[t]=n,z(r)},D=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,r=Object(W.a)({},C);r[t]=n,z(r)},U=function(e,t){e.preventDefault(),w(t.id);var n={fullName:t.fullName,address:t.address,phoneNumber:t.phoneNumber,email:t.email};z(n)},B=function(){w(null)},F=function(e){Object(d.a)(j).then((function(t){if(t.exists())for(var n=t.val(),r=0,a=Object.entries(n);r<a.length;r++){var c=Object(s.a)(a[r],2),i=c[0];if(c[1].id===e){var l={};return l[i]=null,w(null),Object(d.g)(j,l)}}else console.log("No data available")})).catch((function(e){console.log(e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(A,{children:[Object(h.jsxs)(Q.a,{variant:"danger",style:{marginBottom:"0.5rem",marginTop:"0.5rem",marginRight:"0.5rem"},size:"sm",onClick:function(){return E.apply(this,arguments)},children:["Logout from ",t.email]}),Object(h.jsx)(S.b,{to:"/update-email",children:Object(h.jsx)(Q.a,{style:{marginBottom:"0.5rem",marginTop:"0.5rem",marginRight:"0.5rem"},size:"sm",children:"Update Email"})}),Object(h.jsx)(S.b,{to:"/update-password",children:Object(h.jsx)(Q.a,{style:{marginBottom:"0.5rem",marginTop:"0.5rem",marginRight:"0.5rem"},size:"sm",children:"Update Password"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("form",{id:"inner-form"}),Object(h.jsx)("form",{id:"outer-form",onSubmit:function(e){e.preventDefault();var t={id:v,fullName:C.fullName,address:C.address,phoneNumber:C.phoneNumber,email:C.email};Object(d.a)(j).then((function(e){if(e.exists())for(var n=e.val(),r=0,a=Object.entries(n);r<a.length;r++){var c=Object(s.a)(a[r],2),i=c[0];if(c[1].id===v){var l={};return l[i]=t,Object(d.g)(j,l)}}else console.log("No data available")})).catch((function(e){console.log(e)})),w(null)},children:Object(h.jsxs)($.a,{size:"sm",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Address"}),Object(h.jsx)("th",{children:"Phone Number"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{form:"inner-form",type:"text",name:"fullName",required:"required",placeholder:"Enter a name...",onChange:q})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{form:"inner-form",type:"text",name:"address",required:"required",placeholder:"Enter an address...",onChange:q})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{form:"inner-form",type:"text",name:"phoneNumber",required:"required",placeholder:"Enter a phone number...",onChange:q})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Z.a,{size:"sm",children:Object(h.jsx)(_.a,{form:"inner-form",type:"email",name:"email",required:"required",placeholder:"Enter an email...",onChange:q})})}),Object(h.jsx)("td",{children:Object(h.jsx)(Q.a,{form:"inner-form",type:"reset",size:"sm",variant:"primary",onClick:function(e){e.preventDefault();var t={id:Object(M.a)(),fullName:C.fullName,address:C.address,phoneNumber:C.phoneNumber,email:C.email},n=Object(d.d)(j);Object(d.f)(n,t),Object(d.c)(j,(function(e){if(e.exists()){var t=e.val(),n=Object.values(t);f(n)}else f([]),console.log("No data available")}))},children:"Add"})})]}),m.map((function(e){return Object(h.jsx)(r.Fragment,{children:e.id===v?Object(h.jsx)(Y,{addFormData:C,handleEditFormChange:D,handleCancelClick:B}):Object(h.jsx)(X,{contact:e,handleEditClick:U,handleDeleteClick:F})},e.id)}))]})]})})]})]})},te=n(58),ne=["component"];function re(e){var t=e.component,n=Object(te.a)(e,ne),r=p().currentUser;return Object(h.jsx)(N.b,Object(W.a)(Object(W.a)({},n),{},{render:function(e){return r?Object(h.jsx)(t,Object(W.a)({},e)):Object(h.jsx)(N.a,{to:"/"})}}))}function ae(){var e=Object(r.useRef)(),t=p().resetPassword,n=Object(r.useState)(""),a=Object(s.a)(n,2),c=a[0],i=a[1],l=Object(r.useState)(!1),o=Object(s.a)(l,2),d=o[0],j=o[1],b=Object(r.useState)(""),u=Object(s.a)(b,2),O=u[0],m=u[1];function f(){return(f=Object(R.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,m(""),i(""),j(!0),n.next=7,t(e.current.value);case 7:m("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),i("Failed to reset password");case 13:j(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsxs)(I,{children:[Object(h.jsx)(A,{children:Object(h.jsx)(T,{children:"Password Reset"})}),c&&Object(h.jsx)(H.a,{variant:"danger",children:c}),O&&Object(h.jsx)(H.a,{variant:"info",children:O}),Object(h.jsx)(A,{children:Object(h.jsxs)("form",{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(h.jsx)("fieldset",{id:"email",children:Object(h.jsx)(G,{type:"email",placeholder:"Enter Email",ref:e,required:!0})}),Object(h.jsx)(L,{disabled:d,type:"submit",children:"Reset Password"})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/",style:{color:"white"},children:"Back To Login"})}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/signup",style:{color:"white",marginBottom:"2rem"},children:"Sign Up"})})]})}function ce(){var e=Object(r.useRef)(),t=p(),n=t.currentUser,a=t.updatedEmail,c=Object(r.useState)(""),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Object(r.useState)(!1),j=Object(s.a)(d,2),b=j[0],u=j[1],O=Object(N.g)();return Object(h.jsxs)(I,{children:[Object(h.jsx)(A,{children:Object(h.jsx)(V,{children:"Update Email"})}),l&&Object(h.jsx)(H.a,{variant:"danger",children:l}),Object(h.jsx)(A,{children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=[];u(!0),o(""),e.current.value!==n.email&&r.push(a(e.current.value)),Promise.all(r).then((function(){O.push("/dashboard")})).catch((function(){o("Failed to update")})).finally(),u(!1)},children:[Object(h.jsx)("fieldset",{id:"email",children:Object(h.jsx)(G,{type:"email",ref:e,placeholder:"Enter Email",required:!0,defaultValue:n.email})}),Object(h.jsx)(L,{disabled:b,type:"submit",children:"Update Email"})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/dashboard",style:{color:"white",marginBottom:"2rem"},children:"Cancel"})})]})}function ie(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=p().updatedPassword,a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(r.useState)(!1),d=Object(s.a)(o,2),j=d[0],b=d[1],u=Object(N.g)();return Object(h.jsxs)(I,{children:[Object(h.jsx)(A,{children:Object(h.jsx)(V,{children:"Change Password"})}),i&&Object(h.jsx)(H.a,{variant:"danger",children:i}),Object(h.jsx)(A,{children:Object(h.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),e.current.value!==t.current.value)return l("Passwords do not match");var a=[];b(!0),l(""),e.current.value&&a.push(n(e.current.value)),Promise.all(a).then((function(){u.push("/dashboard")})).catch((function(){l("Failed to update")})).finally(),b(!1)},children:[Object(h.jsx)("fieldset",{id:"password",children:Object(h.jsx)(G,{type:"password",ref:e,placeholder:"Enter New Password"})}),Object(h.jsx)("fieldset",{id:"password-confirm",children:Object(h.jsx)(G,{type:"password",ref:t,placeholder:"Confirm New Password"})}),Object(h.jsx)(L,{disabled:j,type:"submit",children:"Change Password"})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(A,{children:Object(h.jsx)(S.b,{to:"/dashboard",style:{color:"white",marginBottom:"2rem"},children:"Cancel"})})]})}var se=function(){return Object(h.jsx)(m,{children:Object(h.jsx)(F,{children:Object(h.jsx)(S.a,{children:Object(h.jsx)(m,{children:Object(h.jsxs)(N.d,{children:[Object(h.jsx)(re,{path:"/dashboard",component:ee}),Object(h.jsx)(N.b,{path:"/signup",component:K}),Object(h.jsx)(N.b,{exact:!0,path:"/",component:J}),Object(h.jsx)(N.b,{path:"/forgot-password",component:ae}),Object(h.jsx)(N.b,{path:"/update-email",component:ce}),Object(h.jsx)(N.b,{path:"/update-password",component:ie})]})})})})})};n(77);i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(se,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b996365e.chunk.js.map