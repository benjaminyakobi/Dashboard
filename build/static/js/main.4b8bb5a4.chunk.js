(this["webpackJsonpreact-table-app"]=this["webpackJsonpreact-table-app"]||[]).push([[0],{45:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),n=a(33),s=a.n(n),j=(a(45),a(49)),i=a(28),b=a(30),l=Object(j.a)({apiKey:"AIzaSyBhiHbrO2qUvGDmGN3iX5u-SlpRK_EPlzU",authDomain:"table-app-e64c3.firebaseapp.com",databaseURL:"https://table-app-e64c3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"table-app-e64c3",storageBucket:"table-app-e64c3.appspot.com",messagingSenderId:"102169979497",appId:"1:102169979497:web:c8dc8170bd6ce50f4850f8",measurementId:"G-6RC7ZQ1177"}),d=Object(i.b)(l),u=Object(b.a)(l),o=a(75),O=a(14),p=a(7),h=Object(c.createContext)();function x(){return Object(c.useContext)(h)}function m(e){var t=e.children,a=Object(c.useState)(),r=Object(O.a)(a,2),n=r[0],s=r[1],j=Object(c.useState)(!0),b=Object(O.a)(j,2),l=b[0],u=b[1];Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var o={currentUser:n,signup:function(e,t){return Object(i.a)(d,e,t)},login:function(e,t){return Object(i.d)(d,e,t)},logout:function(){Object(i.e)(d)},resetPassword:function(e){return Object(i.c)(d,e)},updatedEmail:function(e){return Object(i.f)(n,e)},updatedPassword:function(e){return Object(i.g)(n,e)}};return Object(p.jsx)(h.Provider,{value:o,children:!l&&t})}var f=a(20),v=a(16),w=a(0),g=a.n(w),y=a(3),N=a(78),S=a(76),C=a(77),k=a(74);function P(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=x().login,r=Object(c.useState)(""),n=Object(O.a)(r,2),s=n[0],j=n[1],i=Object(c.useState)(!1),b=Object(O.a)(i,2),l=b[0],d=b[1],u=Object(v.g)();function o(){return(o=Object(y.a)(g.a.mark((function c(r){return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,j(""),d(!0),c.next=6,a(e.current.value,t.current.value);case 6:u.push("/dashboard"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),j("Failed to log in");case 12:d(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(p.jsx)(S.a,{variant:"danger",children:s}),Object(p.jsxs)(C.a,{onSubmit:function(e){return o.apply(this,arguments)},children:[Object(p.jsxs)(C.a.Group,{id:"email",children:[Object(p.jsx)(C.a.Label,{children:"Email"}),Object(p.jsx)(C.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(C.a.Group,{id:"password",children:[Object(p.jsx)(C.a.Label,{children:"Password"}),Object(p.jsx)(C.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsx)(k.a,{disabled:l,className:"w-100 mt-3",type:"submit",children:"Log In"})]}),Object(p.jsx)("div",{className:"w-100 text-center mt-3",children:Object(p.jsx)(f.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(p.jsx)(f.b,{to:"/signup",children:"Sign Up"})]})]})}function E(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),r=x().signup,n=Object(c.useState)(""),s=Object(O.a)(n,2),j=s[0],i=s[1],b=Object(c.useState)(!1),l=Object(O.a)(b,2),d=l[0],u=l[1],o=Object(v.g)();function h(){return(h=Object(y.a)(g.a.mark((function c(n){return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",i("Passwords do not match"));case 3:return c.prev=3,i(""),u(!0),c.next=8,r(e.current.value,t.current.value);case 8:o.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),i("Failed to create an account");case 14:u(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(p.jsx)(S.a,{variant:"danger",children:j}),Object(p.jsxs)(C.a,{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(p.jsxs)(C.a.Group,{id:"email",children:[Object(p.jsx)(C.a.Label,{children:"Email"}),Object(p.jsx)(C.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(C.a.Group,{id:"password",children:[Object(p.jsx)(C.a.Label,{children:"Password"}),Object(p.jsx)(C.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsxs)(C.a.Group,{id:"password-confirm",children:[Object(p.jsx)(C.a.Label,{children:"Password Confirmation"}),Object(p.jsx)(C.a.Control,{type:"password",ref:a,required:!0})]}),Object(p.jsx)(k.a,{disabled:d,className:"w-100 mt-3",type:"submit",children:"Sign Up"})]})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(p.jsx)(f.b,{to:"/",children:"Log In"})]})]})}var L=a(34),q=a(43),R=function(){var e=x(),t=e.currentUser,a=e.logout,r=Object(c.useState)(""),n=Object(O.a)(r,2),s=(n[0],n[1]),j=Object(v.g)(),i=Object(b.d)(u,"Lists/".concat(t.uid)),l=Object(c.useState)([]),d=Object(O.a)(l,2),o=d[0],h=d[1],m=Object(c.useState)({fullName:"",address:"",phoneNumber:"",email:""}),w=Object(O.a)(m,2),S=w[0],C=w[1];Object(c.useEffect)((function(){Object(b.b)(i,(function(e){var t=e.val();try{var a=Object.values(t);h(a)}catch(c){console.log("Database is empty")}}))}),[]);var P=function(e){e.preventDefault();var t=e.target.getAttribute("name"),a=e.target.value,c=Object(L.a)({},S);c[t]=a,C(c)};function E(){return(E=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,a();case 4:j.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.a.Body,{className:"text-center mt-2",children:[Object(p.jsxs)("h6",{children:["Email: ",t.email]}),Object(p.jsx)(f.b,{to:"/update-email",children:"Update Email/Password"}),Object(p.jsx)("div",{children:Object(p.jsx)(k.a,{variant:"link",onClick:function(){return E.apply(this,arguments)},children:"Log Out"})})]})}),Object(p.jsxs)("div",{className:"table-container",children:[Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Address"}),Object(p.jsx)("th",{children:"Phone Number"}),Object(p.jsx)("th",{children:"Email"})]})}),Object(p.jsx)("tbody",{children:o.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.fullName}),Object(p.jsx)("td",{children:e.address}),Object(p.jsx)("td",{children:e.phoneNumber}),Object(p.jsx)("td",{children:e.email})]},e.id)}))})]}),Object(p.jsx)("h2",{children:"Add a Contact"}),Object(p.jsxs)("form",{className:"form-container",children:[Object(p.jsx)("input",{type:"text",name:"fullName",required:"required",placeholder:"Enter a name...",onChange:P}),Object(p.jsx)("input",{type:"text",name:"address",required:"required",placeholder:"Enter an address...",onChange:P}),Object(p.jsx)("input",{type:"text",name:"phoneNumber",required:"required",placeholder:"Enter a phone number...",onChange:P}),Object(p.jsx)("input",{type:"email",name:"email",required:"required",placeholder:"Enter an email...",onChange:P}),Object(p.jsx)("button",{type:"reset",onClick:function(e){e.preventDefault();var t={id:Object(q.a)(),fullName:S.fullName,address:S.address,phoneNumber:S.phoneNumber,email:S.email},a=Object(b.c)(i);Object(b.e)(a,t),Object(b.b)(i,(function(e){var t=e.val(),a=Object.values(t);h(a)}))},children:"Add"})]})]})]})},U=a(54),G=["component"];function F(e){var t=e.component,a=Object(U.a)(e,G),c=x().currentUser;return Object(p.jsx)(v.b,Object(L.a)(Object(L.a)({},a),{},{render:function(e){return c?Object(p.jsx)(t,Object(L.a)({},e)):Object(p.jsx)(v.a,{to:"/"})}}))}function D(){var e=Object(c.useRef)(),t=x().resetPassword,a=Object(c.useState)(""),r=Object(O.a)(a,2),n=r[0],s=r[1],j=Object(c.useState)(!1),i=Object(O.a)(j,2),b=i[0],l=i[1],d=Object(c.useState)(""),u=Object(O.a)(d,2),o=u[0],h=u[1];function m(){return(m=Object(y.a)(g.a.mark((function a(c){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,h(""),s(""),l(!0),a.next=7,t(e.current.value);case 7:h("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),s("Failed to reset password");case 13:l(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(p.jsx)(S.a,{variant:"danger",children:n}),o&&Object(p.jsx)(S.a,{variant:"info",children:o}),Object(p.jsxs)(C.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(p.jsxs)(C.a.Group,{id:"email",children:[Object(p.jsx)(C.a.Label,{children:"Email"}),Object(p.jsx)(C.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsx)(k.a,{disabled:b,className:"w-100 mt-3",type:"submit",children:"Reset Password"})]}),Object(p.jsx)("div",{className:"w-100 text-center mt-3",children:Object(p.jsx)(f.b,{to:"/",children:"Login"})})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(p.jsx)(f.b,{to:"/signup",children:"Sign Up"})]})]})}function I(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),r=x(),n=r.currentUser,s=r.updatedEmail,j=r.updatedPassword,i=Object(c.useState)(""),b=Object(O.a)(i,2),l=b[0],d=b[1],u=Object(c.useState)(!1),o=Object(O.a)(u,2),h=o[0],m=o[1],w=Object(v.g)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.a.Body,{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Update Email/Password"}),l&&Object(p.jsx)(S.a,{variant:"danger",children:l}),Object(p.jsxs)(C.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return d("Passwords do not match");var r=[];m(!0),d(""),e.current.value!==n.email&&r.push(s(e.current.value)),t.current.value&&r.push(j(t.current.value)),Promise.all(r).then((function(){w.push("/dashboard")})).catch((function(){d("Failed to update")})).finally(),m(!1)},children:[Object(p.jsxs)(C.a.Group,{id:"email",children:[Object(p.jsx)(C.a.Label,{children:"Email"}),Object(p.jsx)(C.a.Control,{type:"email",ref:e,required:!0,defaultValue:n.email})]}),Object(p.jsxs)(C.a.Group,{id:"password",children:[Object(p.jsx)(C.a.Label,{children:"Password"}),Object(p.jsx)(C.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(p.jsxs)(C.a.Group,{id:"password-confirm",children:[Object(p.jsx)(C.a.Label,{children:"Password Confirmation"}),Object(p.jsx)(C.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(p.jsx)(k.a,{disabled:h,className:"w-100 mt-3",type:"submit",children:"Update"})]})]})}),Object(p.jsx)("div",{className:"w-100 text-center mt-2",children:Object(p.jsx)(f.b,{to:"/dashboard",children:"Cancel"})})]})}var B=function(){return Object(p.jsx)(m,{children:Object(p.jsx)(o.a,{className:"signup-container",children:Object(p.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(p.jsx)(f.a,{children:Object(p.jsx)(m,{children:Object(p.jsxs)(v.d,{children:[Object(p.jsx)(F,{path:"/dashboard",component:R}),Object(p.jsx)(v.b,{path:"/signup",component:E}),Object(p.jsx)(v.b,{exact:!0,path:"/",component:P}),Object(p.jsx)(v.b,{path:"/forgot-password",component:D}),Object(p.jsx)(v.b,{path:"/update-email",component:I})]})})})})})})};a(71);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.4b8bb5a4.chunk.js.map